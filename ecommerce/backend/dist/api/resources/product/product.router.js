"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.productRouter = void 0;

var _express = _interopRequireDefault(require("express"));

var _product = _interopRequireDefault(require("./product.controller"));

var _sanitizer = require("../../../middleware/sanitizer");

var _strategy = require("../../../middleware/strategy");

var _awsbucket = _interopRequireDefault(require("../../../awsbucket"));

var productRouter = _express["default"].Router();

exports.productRouter = productRouter;
productRouter.route('/add').post((0, _sanitizer.sanitize)(), _strategy.jwtStrategy, _awsbucket["default"].single('photo'), _product["default"].addProduct);
productRouter.route('/getAllproduct').get((0, _sanitizer.sanitize)(), _product["default"].index);
productRouter.route('/getAllproductList').get((0, _sanitizer.sanitize)(), _product["default"].getAllProductList);
productRouter.route('/update').post((0, _sanitizer.sanitize)(), _awsbucket["default"].single('photo'), _product["default"].update);
productRouter.route('/getProductByCategory').get((0, _sanitizer.sanitize)(), _product["default"].getProductListByCategory);
productRouter.route('/getProductById').get((0, _sanitizer.sanitize)(), _product["default"].getProductListById);
productRouter.route('/getWebProductById').get((0, _sanitizer.sanitize)(), _product["default"].getWebProductListById);
productRouter.route('/product-offer').post((0, _sanitizer.sanitize)(), _product["default"].addProductOffer);
productRouter.route('/getAllProductOffer').get((0, _sanitizer.sanitize)(), _product["default"].getProductOffer);
productRouter.route('/delete')["delete"]((0, _sanitizer.sanitize)(), _product["default"].productDelete);
productRouter.route('/deleteOfferById/:id').get((0, _sanitizer.sanitize)(), _product["default"].productOfferDelete);
productRouter.route('/upload-img').post((0, _sanitizer.sanitize)(), _awsbucket["default"].array('file', 10), _product["default"].multiplePhotoUpload);
productRouter.route('/getAllPhoto').get((0, _sanitizer.sanitize)(), _product["default"].getAllPhoto);
productRouter.route('/slider-photo/delete')["delete"]((0, _sanitizer.sanitize)(), _product["default"].deleteSliderPhoto); //Category by product

productRouter.route('/getAllGroceryStaple').get((0, _sanitizer.sanitize)(), _product["default"].getAllGrocerryStaples);
productRouter.route('/list/:slug').get((0, _sanitizer.sanitize)(), _product["default"].getAllProductBySlug);
productRouter.route('/getAllByCategory').post((0, _sanitizer.sanitize)(), _product["default"].GetAllByCategory);
productRouter.route('/getallProductbySubChildCat').post((0, _sanitizer.sanitize)(), _product["default"].getProductSubChildCat); // Filter product

productRouter.route('/gcatalogsearch/result').get((0, _sanitizer.sanitize)(), _product["default"].getFilterbyProduct); //new api

productRouter.route('/search_product').post(_product["default"].searchProductBySubCat); //aws image delete

productRouter.route('/aws/delete/photo').post((0, _sanitizer.sanitize)(), _product["default"].awsProductPhotoDelete);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9hcGkvcmVzb3VyY2VzL3Byb2R1Y3QvcHJvZHVjdC5yb3V0ZXIuanMiXSwibmFtZXMiOlsicHJvZHVjdFJvdXRlciIsImV4cHJlc3MiLCJSb3V0ZXIiLCJyb3V0ZSIsInBvc3QiLCJqd3RTdHJhdGVneSIsInVwbG9hZCIsInNpbmdsZSIsInByb2R1Y3RDb250cm9sbGVyIiwiYWRkUHJvZHVjdCIsImdldCIsImluZGV4IiwiZ2V0QWxsUHJvZHVjdExpc3QiLCJ1cGRhdGUiLCJnZXRQcm9kdWN0TGlzdEJ5Q2F0ZWdvcnkiLCJnZXRQcm9kdWN0TGlzdEJ5SWQiLCJnZXRXZWJQcm9kdWN0TGlzdEJ5SWQiLCJhZGRQcm9kdWN0T2ZmZXIiLCJnZXRQcm9kdWN0T2ZmZXIiLCJwcm9kdWN0RGVsZXRlIiwicHJvZHVjdE9mZmVyRGVsZXRlIiwiYXJyYXkiLCJtdWx0aXBsZVBob3RvVXBsb2FkIiwiZ2V0QWxsUGhvdG8iLCJkZWxldGVTbGlkZXJQaG90byIsImdldEFsbEdyb2NlcnJ5U3RhcGxlcyIsImdldEFsbFByb2R1Y3RCeVNsdWciLCJHZXRBbGxCeUNhdGVnb3J5IiwiZ2V0UHJvZHVjdFN1YkNoaWxkQ2F0IiwiZ2V0RmlsdGVyYnlQcm9kdWN0Iiwic2VhcmNoUHJvZHVjdEJ5U3ViQ2F0IiwiYXdzUHJvZHVjdFBob3RvRGVsZXRlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFHTyxJQUFNQSxhQUFhLEdBQUdDLG9CQUFRQyxNQUFSLEVBQXRCOzs7QUFDUEYsYUFBYSxDQUFDRyxLQUFkLENBQW9CLE1BQXBCLEVBQTRCQyxJQUE1QixDQUFpQywwQkFBakMsRUFBNENDLHFCQUE1QyxFQUF5REMsc0JBQU9DLE1BQVAsQ0FBYyxPQUFkLENBQXpELEVBQWlGQyxvQkFBa0JDLFVBQW5HO0FBQ0FULGFBQWEsQ0FBQ0csS0FBZCxDQUFvQixnQkFBcEIsRUFBc0NPLEdBQXRDLENBQTBDLDBCQUExQyxFQUFzREYsb0JBQWtCRyxLQUF4RTtBQUNBWCxhQUFhLENBQUNHLEtBQWQsQ0FBb0Isb0JBQXBCLEVBQTBDTyxHQUExQyxDQUE4QywwQkFBOUMsRUFBMERGLG9CQUFrQkksaUJBQTVFO0FBQ0FaLGFBQWEsQ0FBQ0csS0FBZCxDQUFvQixTQUFwQixFQUErQkMsSUFBL0IsQ0FBb0MsMEJBQXBDLEVBQWdERSxzQkFBT0MsTUFBUCxDQUFjLE9BQWQsQ0FBaEQsRUFBd0VDLG9CQUFrQkssTUFBMUY7QUFDQWIsYUFBYSxDQUFDRyxLQUFkLENBQW9CLHVCQUFwQixFQUE2Q08sR0FBN0MsQ0FBaUQsMEJBQWpELEVBQTZERixvQkFBa0JNLHdCQUEvRTtBQUNBZCxhQUFhLENBQUNHLEtBQWQsQ0FBb0IsaUJBQXBCLEVBQXVDTyxHQUF2QyxDQUEyQywwQkFBM0MsRUFBdURGLG9CQUFrQk8sa0JBQXpFO0FBQ0FmLGFBQWEsQ0FBQ0csS0FBZCxDQUFvQixvQkFBcEIsRUFBMENPLEdBQTFDLENBQThDLDBCQUE5QyxFQUEwREYsb0JBQWtCUSxxQkFBNUU7QUFDQWhCLGFBQWEsQ0FBQ0csS0FBZCxDQUFvQixnQkFBcEIsRUFBc0NDLElBQXRDLENBQTJDLDBCQUEzQyxFQUF1REksb0JBQWtCUyxlQUF6RTtBQUNBakIsYUFBYSxDQUFDRyxLQUFkLENBQW9CLHFCQUFwQixFQUEyQ08sR0FBM0MsQ0FBK0MsMEJBQS9DLEVBQTJERixvQkFBa0JVLGVBQTdFO0FBQ0FsQixhQUFhLENBQUNHLEtBQWQsQ0FBb0IsU0FBcEIsWUFBc0MsMEJBQXRDLEVBQWtESyxvQkFBa0JXLGFBQXBFO0FBQ0FuQixhQUFhLENBQUNHLEtBQWQsQ0FBb0Isc0JBQXBCLEVBQTRDTyxHQUE1QyxDQUFnRCwwQkFBaEQsRUFBNERGLG9CQUFrQlksa0JBQTlFO0FBQ0FwQixhQUFhLENBQUNHLEtBQWQsQ0FBb0IsYUFBcEIsRUFBbUNDLElBQW5DLENBQXdDLDBCQUF4QyxFQUFvREUsc0JBQU9lLEtBQVAsQ0FBYSxNQUFiLEVBQXFCLEVBQXJCLENBQXBELEVBQThFYixvQkFBa0JjLG1CQUFoRztBQUNBdEIsYUFBYSxDQUFDRyxLQUFkLENBQW9CLGNBQXBCLEVBQW9DTyxHQUFwQyxDQUF3QywwQkFBeEMsRUFBb0RGLG9CQUFrQmUsV0FBdEU7QUFDQXZCLGFBQWEsQ0FBQ0csS0FBZCxDQUFvQixzQkFBcEIsWUFBbUQsMEJBQW5ELEVBQStESyxvQkFBa0JnQixpQkFBakYsRSxDQUVBOztBQUNBeEIsYUFBYSxDQUFDRyxLQUFkLENBQW9CLHNCQUFwQixFQUE0Q08sR0FBNUMsQ0FBZ0QsMEJBQWhELEVBQTRERixvQkFBa0JpQixxQkFBOUU7QUFDQXpCLGFBQWEsQ0FBQ0csS0FBZCxDQUFvQixhQUFwQixFQUFtQ08sR0FBbkMsQ0FBdUMsMEJBQXZDLEVBQW1ERixvQkFBa0JrQixtQkFBckU7QUFDQTFCLGFBQWEsQ0FBQ0csS0FBZCxDQUFvQixtQkFBcEIsRUFBeUNDLElBQXpDLENBQThDLDBCQUE5QyxFQUEwREksb0JBQWtCbUIsZ0JBQTVFO0FBQ0EzQixhQUFhLENBQUNHLEtBQWQsQ0FBb0IsNkJBQXBCLEVBQW1EQyxJQUFuRCxDQUF3RCwwQkFBeEQsRUFBb0VJLG9CQUFrQm9CLHFCQUF0RixFLENBRUE7O0FBQ0E1QixhQUFhLENBQUNHLEtBQWQsQ0FBb0Isd0JBQXBCLEVBQThDTyxHQUE5QyxDQUFrRCwwQkFBbEQsRUFBOERGLG9CQUFrQnFCLGtCQUFoRixFLENBRUE7O0FBQ0E3QixhQUFhLENBQUNHLEtBQWQsQ0FBb0IsaUJBQXBCLEVBQXVDQyxJQUF2QyxDQUE2Q0ksb0JBQWtCc0IscUJBQS9ELEUsQ0FHQTs7QUFDQTlCLGFBQWEsQ0FBQ0csS0FBZCxDQUFvQixtQkFBcEIsRUFBeUNDLElBQXpDLENBQThDLDBCQUE5QyxFQUEwREksb0JBQWtCdUIscUJBQTVFIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQgcHJvZHVjdENvbnRyb2xsZXIgZnJvbSAnLi9wcm9kdWN0LmNvbnRyb2xsZXInO1xuaW1wb3J0IHsgc2FuaXRpemUgfSBmcm9tICcuLi8uLi8uLi9taWRkbGV3YXJlL3Nhbml0aXplcic7XG5pbXBvcnQgeyBqd3RTdHJhdGVneSB9IGZyb20gJy4uLy4uLy4uL21pZGRsZXdhcmUvc3RyYXRlZ3knO1xuaW1wb3J0IHVwbG9hZCBmcm9tICcuLi8uLi8uLi9hd3NidWNrZXQnO1xuXG5cbmV4cG9ydCBjb25zdCBwcm9kdWN0Um91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcbnByb2R1Y3RSb3V0ZXIucm91dGUoJy9hZGQnKS5wb3N0KHNhbml0aXplKCksand0U3RyYXRlZ3ksIHVwbG9hZC5zaW5nbGUoJ3Bob3RvJyksIHByb2R1Y3RDb250cm9sbGVyLmFkZFByb2R1Y3QpO1xucHJvZHVjdFJvdXRlci5yb3V0ZSgnL2dldEFsbHByb2R1Y3QnKS5nZXQoc2FuaXRpemUoKSwgcHJvZHVjdENvbnRyb2xsZXIuaW5kZXgpO1xucHJvZHVjdFJvdXRlci5yb3V0ZSgnL2dldEFsbHByb2R1Y3RMaXN0JykuZ2V0KHNhbml0aXplKCksIHByb2R1Y3RDb250cm9sbGVyLmdldEFsbFByb2R1Y3RMaXN0KTtcbnByb2R1Y3RSb3V0ZXIucm91dGUoJy91cGRhdGUnKS5wb3N0KHNhbml0aXplKCksIHVwbG9hZC5zaW5nbGUoJ3Bob3RvJyksIHByb2R1Y3RDb250cm9sbGVyLnVwZGF0ZSk7XG5wcm9kdWN0Um91dGVyLnJvdXRlKCcvZ2V0UHJvZHVjdEJ5Q2F0ZWdvcnknKS5nZXQoc2FuaXRpemUoKSwgcHJvZHVjdENvbnRyb2xsZXIuZ2V0UHJvZHVjdExpc3RCeUNhdGVnb3J5KTtcbnByb2R1Y3RSb3V0ZXIucm91dGUoJy9nZXRQcm9kdWN0QnlJZCcpLmdldChzYW5pdGl6ZSgpLCBwcm9kdWN0Q29udHJvbGxlci5nZXRQcm9kdWN0TGlzdEJ5SWQpO1xucHJvZHVjdFJvdXRlci5yb3V0ZSgnL2dldFdlYlByb2R1Y3RCeUlkJykuZ2V0KHNhbml0aXplKCksIHByb2R1Y3RDb250cm9sbGVyLmdldFdlYlByb2R1Y3RMaXN0QnlJZCk7XG5wcm9kdWN0Um91dGVyLnJvdXRlKCcvcHJvZHVjdC1vZmZlcicpLnBvc3Qoc2FuaXRpemUoKSwgcHJvZHVjdENvbnRyb2xsZXIuYWRkUHJvZHVjdE9mZmVyKTtcbnByb2R1Y3RSb3V0ZXIucm91dGUoJy9nZXRBbGxQcm9kdWN0T2ZmZXInKS5nZXQoc2FuaXRpemUoKSwgcHJvZHVjdENvbnRyb2xsZXIuZ2V0UHJvZHVjdE9mZmVyKTtcbnByb2R1Y3RSb3V0ZXIucm91dGUoJy9kZWxldGUnKS5kZWxldGUoc2FuaXRpemUoKSwgcHJvZHVjdENvbnRyb2xsZXIucHJvZHVjdERlbGV0ZSk7XG5wcm9kdWN0Um91dGVyLnJvdXRlKCcvZGVsZXRlT2ZmZXJCeUlkLzppZCcpLmdldChzYW5pdGl6ZSgpLCBwcm9kdWN0Q29udHJvbGxlci5wcm9kdWN0T2ZmZXJEZWxldGUpO1xucHJvZHVjdFJvdXRlci5yb3V0ZSgnL3VwbG9hZC1pbWcnKS5wb3N0KHNhbml0aXplKCksIHVwbG9hZC5hcnJheSgnZmlsZScsIDEwKSwgcHJvZHVjdENvbnRyb2xsZXIubXVsdGlwbGVQaG90b1VwbG9hZCk7XG5wcm9kdWN0Um91dGVyLnJvdXRlKCcvZ2V0QWxsUGhvdG8nKS5nZXQoc2FuaXRpemUoKSwgcHJvZHVjdENvbnRyb2xsZXIuZ2V0QWxsUGhvdG8pO1xucHJvZHVjdFJvdXRlci5yb3V0ZSgnL3NsaWRlci1waG90by9kZWxldGUnKS5kZWxldGUoc2FuaXRpemUoKSwgcHJvZHVjdENvbnRyb2xsZXIuZGVsZXRlU2xpZGVyUGhvdG8pO1xuXG4vL0NhdGVnb3J5IGJ5IHByb2R1Y3RcbnByb2R1Y3RSb3V0ZXIucm91dGUoJy9nZXRBbGxHcm9jZXJ5U3RhcGxlJykuZ2V0KHNhbml0aXplKCksIHByb2R1Y3RDb250cm9sbGVyLmdldEFsbEdyb2NlcnJ5U3RhcGxlcyk7XG5wcm9kdWN0Um91dGVyLnJvdXRlKCcvbGlzdC86c2x1ZycpLmdldChzYW5pdGl6ZSgpLCBwcm9kdWN0Q29udHJvbGxlci5nZXRBbGxQcm9kdWN0QnlTbHVnKTtcbnByb2R1Y3RSb3V0ZXIucm91dGUoJy9nZXRBbGxCeUNhdGVnb3J5JykucG9zdChzYW5pdGl6ZSgpLCBwcm9kdWN0Q29udHJvbGxlci5HZXRBbGxCeUNhdGVnb3J5KTtcbnByb2R1Y3RSb3V0ZXIucm91dGUoJy9nZXRhbGxQcm9kdWN0YnlTdWJDaGlsZENhdCcpLnBvc3Qoc2FuaXRpemUoKSwgcHJvZHVjdENvbnRyb2xsZXIuZ2V0UHJvZHVjdFN1YkNoaWxkQ2F0KTtcblxuLy8gRmlsdGVyIHByb2R1Y3RcbnByb2R1Y3RSb3V0ZXIucm91dGUoJy9nY2F0YWxvZ3NlYXJjaC9yZXN1bHQnKS5nZXQoc2FuaXRpemUoKSwgcHJvZHVjdENvbnRyb2xsZXIuZ2V0RmlsdGVyYnlQcm9kdWN0KTtcblxuLy9uZXcgYXBpXG5wcm9kdWN0Um91dGVyLnJvdXRlKCcvc2VhcmNoX3Byb2R1Y3QnKS5wb3N0KCBwcm9kdWN0Q29udHJvbGxlci5zZWFyY2hQcm9kdWN0QnlTdWJDYXQpO1xuXG5cbi8vYXdzIGltYWdlIGRlbGV0ZVxucHJvZHVjdFJvdXRlci5yb3V0ZSgnL2F3cy9kZWxldGUvcGhvdG8nKS5wb3N0KHNhbml0aXplKCksIHByb2R1Y3RDb250cm9sbGVyLmF3c1Byb2R1Y3RQaG90b0RlbGV0ZSk7XG5cblxuXG5cblxuXG5cblxuXG5cbiJdfQ==