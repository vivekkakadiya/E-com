"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.schemas = exports.validateBody = void 0;

var _joi = _interopRequireDefault(require("joi"));

var _joiDateExtensions = _interopRequireDefault(require("joi-date-extensions"));

var Joi = _joi["default"].extend(_joiDateExtensions["default"]);

var validateBody = function validateBody(schema) {
  return function (req, res, next) {
    var result = req.method != 'GET' ? Joi.validate(req.body, schema) : Joi.validate(req.query, schema);

    if (result.error) {
      return res.status(400).json(result.error);
    }

    if (!req.value) {
      req.value = {};
    }

    req.value['body'] = result.value;
    next();
  };
};

exports.validateBody = validateBody;
var schemas = {
  registerSchema: Joi.object().keys({
    firstName: Joi.string().required(),
    lastName: Joi.string().required(),
    email: Joi.string().email().required(),
    password: Joi.string().required(),
    phoneNo: Joi.number().required(),
    address: Joi.string().required(),
    role: Joi.string().required(),
    verify: Joi.string().required()
  }),
  loginSchema: Joi.object().keys({
    email: Joi.string().email().required(),
    password: Joi.string().required()
  }),
  userCheckSchema: Joi.object().keys({
    email: Joi.string().email().required()
  }),
  sendResetPassword: Joi.object().keys({
    email: Joi.string().email().required()
  }),
  resetPassword: Joi.object().keys({
    email: Joi.string().email().required(),
    verificationCode: Joi.string().required(),
    password: Joi.string().required()
  }),
  supplierDetails: Joi.object().keys({
    storename: Joi.string().required(),
    status: Joi.number().required(),
    shopaddress: Joi.string().required(),
    shopdesc: Joi.string().required(),
    ownername: Joi.string().required(),
    owneraddress: Joi.string().required(),
    email: Joi.string().email().required(),
    password: Joi.string().required(),
    phone: Joi.string().required(),
    areaId: Joi.number().required()
  }),
  category: Joi.object().keys({
    name: Joi.string().required(),
    slug: Joi.string().required()
  }),
  location: Joi.object().keys({
    name: Joi.string().required(),
    status: Joi.number().required()
  }),
  area: Joi.object().keys({
    name: Joi.string().required(),
    locationId: Joi.number().required(),
    status: Joi.number().required()
  })
};
exports.schemas = schemas;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9taWRkbGV3YXJlL3ZhbGlkYXRvci5qcyJdLCJuYW1lcyI6WyJKb2kiLCJCYXNlSm9pIiwiZXh0ZW5kIiwiRGF0ZUV4dGVuc2lvbiIsInZhbGlkYXRlQm9keSIsInNjaGVtYSIsInJlcSIsInJlcyIsIm5leHQiLCJyZXN1bHQiLCJtZXRob2QiLCJ2YWxpZGF0ZSIsImJvZHkiLCJxdWVyeSIsImVycm9yIiwic3RhdHVzIiwianNvbiIsInZhbHVlIiwic2NoZW1hcyIsInJlZ2lzdGVyU2NoZW1hIiwib2JqZWN0Iiwia2V5cyIsImZpcnN0TmFtZSIsInN0cmluZyIsInJlcXVpcmVkIiwibGFzdE5hbWUiLCJlbWFpbCIsInBhc3N3b3JkIiwicGhvbmVObyIsIm51bWJlciIsImFkZHJlc3MiLCJyb2xlIiwidmVyaWZ5IiwibG9naW5TY2hlbWEiLCJ1c2VyQ2hlY2tTY2hlbWEiLCJzZW5kUmVzZXRQYXNzd29yZCIsInJlc2V0UGFzc3dvcmQiLCJ2ZXJpZmljYXRpb25Db2RlIiwic3VwcGxpZXJEZXRhaWxzIiwic3RvcmVuYW1lIiwic2hvcGFkZHJlc3MiLCJzaG9wZGVzYyIsIm93bmVybmFtZSIsIm93bmVyYWRkcmVzcyIsInBob25lIiwiYXJlYUlkIiwiY2F0ZWdvcnkiLCJuYW1lIiwic2x1ZyIsImxvY2F0aW9uIiwiYXJlYSIsImxvY2F0aW9uSWQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBOztBQUNBOztBQUNBLElBQU1BLEdBQUcsR0FBR0MsZ0JBQVFDLE1BQVIsQ0FBZUMsNkJBQWYsQ0FBWjs7QUFFTyxJQUFJQyxZQUFZLEdBQUcsU0FBZkEsWUFBZSxDQUFDQyxNQUFELEVBQVk7QUFDbEMsU0FBTyxVQUFDQyxHQUFELEVBQU1DLEdBQU4sRUFBV0MsSUFBWCxFQUFvQjtBQUN2QixRQUFNQyxNQUFNLEdBQUdILEdBQUcsQ0FBQ0ksTUFBSixJQUFjLEtBQWQsR0FBc0JWLEdBQUcsQ0FBQ1csUUFBSixDQUFhTCxHQUFHLENBQUNNLElBQWpC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LFFBQWIsRUFEa0I7QUFFeEJULElBQUFBLE1BQU0sRUFBRWYsR0FBRyxDQUFDNkIsTUFBSixHQUFhTCxRQUFiO0FBRmdCLEdBQWxCLENBMUNPO0FBOENqQjBCLEVBQUFBLElBQUksRUFBRWxELEdBQUcsQ0FBQ29CLE1BQUosR0FBYUMsSUFBYixDQUFrQjtBQUNwQjBCLElBQUFBLElBQUksRUFBRS9DLEdBQUcsQ0FBQ3VCLE1BQUosR0FBYUMsUUFBYixFQURjO0FBRXBCMkIsSUFBQUEsVUFBVSxFQUFFbkQsR0FBRyxDQUFDNkIsTUFBSixHQUFhTCxRQUFiLEVBRlE7QUFHcEJULElBQUFBLE1BQU0sRUFBRWYsR0FBRyxDQUFDNkIsTUFBSixHQUFhTCxRQUFiO0FBSFksR0FBbEI7QUE5Q1csQ0FBZCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBCYXNlSm9pIGZyb20gJ2pvaSc7XG5pbXBvcnQgRGF0ZUV4dGVuc2lvbiBmcm9tICdqb2ktZGF0ZS1leHRlbnNpb25zJztcbmNvbnN0IEpvaSA9IEJhc2VKb2kuZXh0ZW5kKERhdGVFeHRlbnNpb24pO1xuXG5leHBvcnQgdmFyIHZhbGlkYXRlQm9keSA9IChzY2hlbWEpID0+IHtcbiAgICByZXR1cm4gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHJlcS5tZXRob2QgIT0gJ0dFVCcgPyBKb2kudmFsaWRhdGUocmVxLmJvZHksIHNjaGVtYSkgOiBKb2kudmFsaWRhdGUocmVxLnF1ZXJ5LCBzY2hlbWEpO1xuICAgICAgICBpZiAocmVzdWx0LmVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24ocmVzdWx0LmVycm9yKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghcmVxLnZhbHVlKSB7IHJlcS52YWx1ZSA9IHt9OyB9XG4gICAgICAgIHJlcS52YWx1ZVsnYm9keSddID0gcmVzdWx0LnZhbHVlO1xuICAgICAgICBuZXh0KCk7XG4gICAgfVxufVxuXG5leHBvcnQgdmFyIHNjaGVtYXMgPSB7XG4gICAgcmVnaXN0ZXJTY2hlbWE6IEpvaS5vYmplY3QoKS5rZXlzKHtcbiAgICAgICAgZmlyc3ROYW1lOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcbiAgICAgICAgbGFzdE5hbWU6IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxuICAgICAgICBlbWFpbDogSm9pLnN0cmluZygpLmVtYWlsKCkucmVxdWlyZWQoKSxcbiAgICAgICAgcGFzc3dvcmQ6IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxuICAgICAgICBwaG9uZU5vOiBKb2kubnVtYmVyKCkucmVxdWlyZWQoKSxcbiAgICAgICAgYWRkcmVzczogSm9pLnN0cmluZygpLnJlcXVpcmVkKCksXG4gICAgICAgIHJvbGU6IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxuICAgICAgICB2ZXJpZnk6IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpXG4gICAgfSksXG4gICAgbG9naW5TY2hlbWE6IEpvaS5vYmplY3QoKS5rZXlzKHtcbiAgICAgICAgZW1haWw6IEpvaS5zdHJpbmcoKS5lbWFpbCgpLnJlcXVpcmVkKCksXG4gICAgICAgIHBhc3N3b3JkOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcbiAgICB9KSxcbiAgICB1c2VyQ2hlY2tTY2hlbWE6IEpvaS5vYmplY3QoKS5rZXlzKHtcbiAgICAgICAgZW1haWw6IEpvaS5zdHJpbmcoKS5lbWFpbCgpLnJlcXVpcmVkKCksXG4gICAgfSksXG4gICAgc2VuZFJlc2V0UGFzc3dvcmQ6IEpvaS5vYmplY3QoKS5rZXlzKHtcbiAgICAgICAgZW1haWw6IEpvaS5zdHJpbmcoKS5lbWFpbCgpLnJlcXVpcmVkKCksXG4gICAgfSksXG4gICAgcmVzZXRQYXNzd29yZDogSm9pLm9iamVjdCgpLmtleXMoe1xuICAgICAgICBlbWFpbDogSm9pLnN0cmluZygpLmVtYWlsKCkucmVxdWlyZWQoKSxcbiAgICAgICAgdmVyaWZpY2F0aW9uQ29kZTogSm9pLnN0cmluZygpLnJlcXVpcmVkKCksXG4gICAgICAgIHBhc3N3b3JkOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKVxuICAgIH0pLFxuICAgIHN1cHBsaWVyRGV0YWlsczogSm9pLm9iamVjdCgpLmtleXMoe1xuICAgICAgICBzdG9yZW5hbWU6IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxuICAgICAgICBzdGF0dXM6IEpvaS5udW1iZXIoKS5yZXF1aXJlZCgpLFxuICAgICAgICBzaG9wYWRkcmVzczogSm9pLnN0cmluZygpLnJlcXVpcmVkKCksXG4gICAgICAgIHNob3BkZXNjOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcbiAgICAgICAgb3duZXJuYW1lOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcbiAgICAgICAgb3duZXJhZGRyZXNzOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcbiAgICAgICAgZW1haWw6IEpvaS5zdHJpbmcoKS5lbWFpbCgpLnJlcXVpcmVkKCksXG4gICAgICAgIHBhc3N3b3JkOiBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcbiAgICAgICAgcGhvbmU6IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxuICAgICAgICBhcmVhSWQ6IEpvaS5udW1iZXIoKS5yZXF1aXJlZCgpXG4gICAgfSksXG4gICAgY2F0ZWdvcnk6IEpvaS5vYmplY3QoKS5rZXlzKHtcbiAgICAgICAgbmFtZTogSm9pLnN0cmluZygpLnJlcXVpcmVkKCksXG4gICAgICAgIHNsdWc6IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxuICAgIH0pLFxuICAgIGxvY2F0aW9uOiBKb2kub2JqZWN0KCkua2V5cyh7XG4gICAgICAgIG5hbWU6IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLFxuICAgICAgICBzdGF0dXM6IEpvaS5udW1iZXIoKS5yZXF1aXJlZCgpLFxuICAgIH0pLFxuICAgIGFyZWE6IEpvaS5vYmplY3QoKS5rZXlzKHtcbiAgICAgICAgbmFtZTogSm9pLnN0cmluZygpLnJlcXVpcmVkKCksXG4gICAgICAgIGxvY2F0aW9uSWQ6IEpvaS5udW1iZXIoKS5yZXF1aXJlZCgpLFxuICAgICAgICBzdGF0dXM6IEpvaS5udW1iZXIoKS5yZXF1aXJlZCgpLFxuICAgIH0pLFxufSJdfQ==