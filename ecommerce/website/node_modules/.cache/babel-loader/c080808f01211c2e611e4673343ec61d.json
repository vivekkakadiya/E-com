{"ast":null,"code":"import _regeneratorRuntime from\"D:\\\\NodeJs\\\\Full-Ecommerce-template\\\\ecommerce\\\\ecommerce\\\\website\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"D:\\\\NodeJs\\\\Full-Ecommerce-template\\\\ecommerce\\\\ecommerce\\\\website\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"D:\\\\NodeJs\\\\Full-Ecommerce-template\\\\ecommerce\\\\ecommerce\\\\website\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\NodeJs\\\\Full-Ecommerce-template\\\\ecommerce\\\\ecommerce\\\\website\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"D:\\\\NodeJs\\\\Full-Ecommerce-template\\\\ecommerce\\\\ecommerce\\\\website\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\NodeJs\\\\Full-Ecommerce-template\\\\ecommerce\\\\ecommerce\\\\website\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{GetProductDetails}from'../../../services';import{Link}from'react-router-dom';import{connect}from'react-redux';import{addToCart}from'../../../../store/actions/cartActions';import{NotificationManager}from'react-notifications';import CircularProgress from'@material-ui/core/CircularProgress';var Productview=/*#__PURE__*/function(_Component){_inherits(Productview,_Component);var _super=_createSuper(Productview);function Productview(props){var _this;_classCallCheck(this,Productview);_this=_super.call(this,props);_this.onLoadMore=function(event){_this.setState({limit:_this.state.limit+3});};_this.state={list:[],categorybyproduct:[],isloaded:false,toggle:false,limit:3};return _this;}_createClass(Productview,[{key:\"getFilterByProduct\",value:function(){var _getFilterByProduct=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var url,lastSegment,p;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:this.setState({isloaded:false});url=window.location.href.split('/');lastSegment=url.pop()||url.pop();_context.prev=3;_context.next=6;return GetProductDetails.getProductByFilter(lastSegment);case 6:p=_context.sent;if(p){this.setState({list:p.data,isloaded:true});}_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](3);NotificationManager.error(\"Empty data in category\",\"Data\");case 13:case\"end\":return _context.stop();}}},_callee,this,[[3,10]]);}));function getFilterByProduct(){return _getFilterByProduct.apply(this,arguments);}return getFilterByProduct;}()},{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:window.scrollTo(0,0);this.getFilterByProduct();case 2:case\"end\":return _context2.stop();}}},_callee2,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"componentWillReceiveProps\",value:function componentWillReceiveProps(){this.getFilterByProduct();}},{key:\"handleFilterCategory\",value:function(){var _handleFilterCategory=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(row){var url,lastSegment,data,category;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:url=window.location.href.split('/');lastSegment=url.pop()||url.pop();data={id:row.id,name:lastSegment};_context3.next=5;return GetProductDetails.getProductBySubcategory(data);case 5:category=_context3.sent;if(category){this.setState({categorybyproduct:category.data,isloaded:true,toggle:true});}else{NotificationManager.error(\"empty data in category\",\"Undefined\");}case 7:case\"end\":return _context3.stop();}}},_callee3,this);}));function handleFilterCategory(_x){return _handleFilterCategory.apply(this,arguments);}return handleFilterCategory;}()},{key:\"render\",value:function render(){var _this2=this;var _this$state=this.state,list=_this$state.list,categorybyproduct=_this$state.categorybyproduct,toggle=_this$state.toggle,isloaded=_this$state.isloaded,limit=_this$state.limit;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"section\",{className:\"pt-3 pb-3 page-info section-padding border-bottom bg-white single-product-header-bk\"},/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-12\"},/*#__PURE__*/React.createElement(\"a\",{href:\"#\"},/*#__PURE__*/React.createElement(\"strong\",null,/*#__PURE__*/React.createElement(\"span\",{className:\"mdi mdi-home\"}),\" Home\")),\" \",/*#__PURE__*/React.createElement(\"span\",{className:\"mdi mdi-chevron-right\"}),\" \",/*#__PURE__*/React.createElement(\"a\",{href:\"#\"},\"Fruits & Vegetables\"),\" \",/*#__PURE__*/React.createElement(\"span\",{className:\"mdi mdi-chevron-right\"}),\" \",/*#__PURE__*/React.createElement(\"a\",{href:\"#\"},\"Fruits\"))))),/*#__PURE__*/React.createElement(\"section\",{className:\"shop-list section-padding\"},/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"shop-filters\"},/*#__PURE__*/React.createElement(\"div\",{id:\"accordion\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card-header\",id:\"headingOne\"},/*#__PURE__*/React.createElement(\"h5\",{className:\"mb-0\"},/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-link\",\"data-toggle\":\"collapse\",\"data-target\":\"#collapseOne\",\"aria-expanded\":\"true\",\"aria-controls\":\"collapseOne\"},\"All Category \",/*#__PURE__*/React.createElement(\"span\",{className:\"mdi mdi-chevron-down float-right\"})))),/*#__PURE__*/React.createElement(\"div\",{id:\"collapseOne\",className:\"collapse show\",\"aria-labelledby\":\"headingOne\",\"data-parent\":\"#accordion\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card-body card-shop-filters\"},isloaded?list.map(function(row,index){return/*#__PURE__*/React.createElement(\"div\",{className:\"card-body\",key:index},/*#__PURE__*/React.createElement(\"div\",{className:\"list-group bs-canvas-close\",\"aria-label\":\"Close\",onClick:_this2.handleFilterCategory.bind(_this2,row)},/*#__PURE__*/React.createElement(\"span\",{className:\"list-group-item list-group-item-action\"},row.sub_name)));}):'')))))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-9\"},/*#__PURE__*/React.createElement(\"div\",{className:\"shop-head\"},/*#__PURE__*/React.createElement(\"a\",{href:\"#\"},/*#__PURE__*/React.createElement(\"span\",{className:\"mdi mdi-home\"}),\" Home\"),\" \",/*#__PURE__*/React.createElement(\"span\",{className:\"mdi mdi-chevron-right\"}),\" \",/*#__PURE__*/React.createElement(\"a\",{href:\"#\"},\"Fruits & Vegetables\"),\" \",/*#__PURE__*/React.createElement(\"span\",{className:\"mdi mdi-chevron-right\"}),\" \",/*#__PURE__*/React.createElement(\"a\",{href:\"#\"},\"Fruits\"),/*#__PURE__*/React.createElement(\"div\",{className:\"btn-group float-right mt-2\"},/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-dark dropdown-toggle\",\"data-toggle\":\"dropdown\",\"aria-haspopup\":\"true\",\"aria-expanded\":\"false\"},\"Sort by Products \\xA0\\xA0\\xA0\\xA0\\xA0\"),/*#__PURE__*/React.createElement(\"div\",{className:\"dropdown-menu dropdown-menu-right\"},/*#__PURE__*/React.createElement(\"a\",{className:\"dropdown-item\",href:\"#\"},\"Relevance\"),/*#__PURE__*/React.createElement(\"a\",{className:\"dropdown-item\",href:\"#\"},\"Price (Low to High)\"),/*#__PURE__*/React.createElement(\"a\",{className:\"dropdown-item\",href:\"#\"},\"Price (High to Low)\"),/*#__PURE__*/React.createElement(\"a\",{className:\"dropdown-item\",href:\"#\"},\"Discount (High to Low)\"),/*#__PURE__*/React.createElement(\"a\",{className:\"dropdown-item\",href:\"#\"},\"Name (A to Z)\"))),/*#__PURE__*/React.createElement(\"h5\",{className:\"mb-3\"},\"Fruits\")),!isloaded?/*#__PURE__*/React.createElement(\"div\",{className:\"progress-bar-bk\"},/*#__PURE__*/React.createElement(CircularProgress,{color:\"secondary\"})):toggle?/*#__PURE__*/React.createElement(\"div\",{className:\"row no-gutters\"},categorybyproduct?categorybyproduct.map(function(row){return row.products.slice(0,limit).map(function(row,index){return/*#__PURE__*/React.createElement(\"div\",{key:index,className:\"col-md-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"item\"},/*#__PURE__*/React.createElement(\"div\",{className:\"product\"},/*#__PURE__*/React.createElement(Link,{to:{pathname:\"/p/\".concat(row.slug,\"/\").concat(row.id),state:row}},/*#__PURE__*/React.createElement(\"div\",{className:\"product-header\"},/*#__PURE__*/React.createElement(\"span\",{className:\"badge badge-success\"},row.discountPer,\"% OFF\"),/*#__PURE__*/React.createElement(\"img\",{className:\"img-fluid\",src:row.photo,alt:\"product\"}),/*#__PURE__*/React.createElement(\"span\",{className:\"veg text-success mdi mdi-circle\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"product-body\"},/*#__PURE__*/React.createElement(\"h5\",null,row.name),/*#__PURE__*/React.createElement(\"h6\",null,/*#__PURE__*/React.createElement(\"strong\",null,/*#__PURE__*/React.createElement(\"span\",{className:\"mdi mdi-approval\"}),\" Available in\"),\" - \",row.unitSize))),/*#__PURE__*/React.createElement(\"div\",{className:\"product-footer\"},/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-secondary btn-sm float-right\",onClick:function onClick(){return _this2.props.addToCart(row);}},/*#__PURE__*/React.createElement(\"i\",{className:\"mdi mdi-cart-outline\"}),\" Add To Cart\"),/*#__PURE__*/React.createElement(\"p\",{className:\"offer-price mb-0\"},\"\\u20B9\",row.netPrice,\"  \",/*#__PURE__*/React.createElement(\"i\",{className:\"mdi mdi-tag-outline\"}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"span\",{className:\"regular-price\"},\"\\u20B9\",row.price,\" \"))))));});}):/*#__PURE__*/React.createElement(\"div\",{className:\"text-danger\"},\"Empty item in this category\")):/*#__PURE__*/React.createElement(\"div\",{className:\"row no-gutters\"},list?list.map(function(row){return row.products.slice(0,limit).map(function(row,index){return/*#__PURE__*/React.createElement(\"div\",{key:index,className:\"col-md-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"item\"},/*#__PURE__*/React.createElement(\"div\",{className:\"product\"},/*#__PURE__*/React.createElement(Link,{to:{pathname:\"/p/\".concat(row.slug,\"/\").concat(row.id),state:row}},/*#__PURE__*/React.createElement(\"div\",{className:\"product-header\"},/*#__PURE__*/React.createElement(\"span\",{className:\"badge badge-success\"},row.discountPer,\"% OFF\"),/*#__PURE__*/React.createElement(\"img\",{className:\"img-fluid\",src:row.photo,alt:\"product\"}),/*#__PURE__*/React.createElement(\"span\",{className:\"veg text-success mdi mdi-circle\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"product-body\"},/*#__PURE__*/React.createElement(\"h5\",null,row.name),/*#__PURE__*/React.createElement(\"h6\",null,/*#__PURE__*/React.createElement(\"strong\",null,/*#__PURE__*/React.createElement(\"span\",{className:\"mdi mdi-approval\"}),\" Available in\"),\" - \",row.unitSize))),/*#__PURE__*/React.createElement(\"div\",{className:\"product-footer\"},/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-secondary btn-sm float-right\",onClick:function onClick(){return _this2.props.addToCart(row);}},/*#__PURE__*/React.createElement(\"i\",{className:\"mdi mdi-cart-outline\"}),\" Add To Cart\"),/*#__PURE__*/React.createElement(\"p\",{className:\"offer-price mb-0\"},\"\\u20B9\",row.netPrice,\"  \",/*#__PURE__*/React.createElement(\"i\",{className:\"mdi mdi-tag-outline\"}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"span\",{className:\"regular-price\"},\"\\u20B9\",row.price,\" \"))))));});}):/*#__PURE__*/React.createElement(\"div\",{className:\"text-danger\"},\"Empty item in this category\")),/*#__PURE__*/React.createElement(\"div\",{class:\"more-product-btn\"},/*#__PURE__*/React.createElement(\"button\",{class:\"show-more-btn hover-btn\",onClick:this.onLoadMore},\"Show More\")))))));}}]);return Productview;}(Component);export default connect(null,{addToCart:addToCart})(Productview);","map":{"version":3,"sources":["D:/NodeJs/Full-Ecommerce-template/ecommerce/ecommerce/website/src/app/components/web/views/product/index.js"],"names":["React","Component","GetProductDetails","Link","connect","addToCart","NotificationManager","CircularProgress","Productview","props","onLoadMore","event","setState","limit","state","list","categorybyproduct","isloaded","toggle","url","window","location","href","split","lastSegment","pop","getProductByFilter","p","data","error","scrollTo","getFilterByProduct","row","id","name","getProductBySubcategory","category","map","index","handleFilterCategory","bind","sub_name","products","slice","pathname","slug","discountPer","photo","unitSize","netPrice","price"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { GetProductDetails } from '../../../services';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { addToCart } from '../../../../store/actions/cartActions';\nimport { NotificationManager } from 'react-notifications';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nclass Productview extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            list: [], categorybyproduct: [], isloaded: false, toggle: false, limit: 3\n        }\n    }\n    async getFilterByProduct() {\n        this.setState({ isloaded: false })\n        let url = window.location.href.split('/');\n        var lastSegment = url.pop() || url.pop();\n        try {\n            let p = await GetProductDetails.getProductByFilter(lastSegment);\n            if (p) {\n                this.setState({ list: p.data, isloaded: true })\n            }\n        } catch (e) {\n            NotificationManager.error(\"Empty data in category\", \"Data\");\n        }\n\n        //category filter\n\n    }\n    async componentDidMount() {\n        window.scrollTo(0, 0);\n        this.getFilterByProduct();\n    }\n    componentWillReceiveProps() {\n        this.getFilterByProduct();\n    }\n    async handleFilterCategory(row) {\n        let url = window.location.href.split('/');\n        var lastSegment = url.pop() || url.pop();\n\n        let data = { id: row.id, name: lastSegment }\n        let category = await GetProductDetails.getProductBySubcategory(data);\n        if (category) {\n            this.setState({ categorybyproduct: category.data, isloaded: true, toggle: true })\n        } else {\n            NotificationManager.error(\"empty data in category\", \"Undefined\");\n        }\n    }\n    onLoadMore =event=> {\n        this.setState({ limit: this.state.limit+3})\n    }\n    render() {\n        let { list, categorybyproduct, toggle, isloaded, limit } = this.state;\n        return (\n            <div>\n                <section className=\"pt-3 pb-3 page-info section-padding border-bottom bg-white single-product-header-bk\">\n                    <div className=\"container\">\n                        <div className=\"row\">\n                            <div className=\"col-md-12\">\n                                <a href=\"#\"><strong><span className=\"mdi mdi-home\" /> Home</strong></a> <span className=\"mdi mdi-chevron-right\" /> <a href=\"#\">Fruits &amp; Vegetables</a> <span className=\"mdi mdi-chevron-right\" /> <a href=\"#\">Fruits</a>\n                            </div>\n                        </div>\n                    </div>\n                </section>\n\n                {/* All product */}\n                <section className=\"shop-list section-padding\">\n                    <div className=\"container\">\n                        <div className=\"row\">\n                            <div className=\"col-md-3\">\n                                <div className=\"shop-filters\">\n                                    <div id=\"accordion\">\n                                        <div className=\"card\">\n                                            <div className=\"card-header\" id=\"headingOne\">\n                                                <h5 className=\"mb-0\">\n                                                    <button className=\"btn btn-link\" data-toggle=\"collapse\" data-target=\"#collapseOne\" aria-expanded=\"true\" aria-controls=\"collapseOne\">\n                                                        All Category <span className=\"mdi mdi-chevron-down float-right\" />\n                                                    </button>\n                                                </h5>\n                                            </div>\n                                            <div id=\"collapseOne\" className=\"collapse show\" aria-labelledby=\"headingOne\" data-parent=\"#accordion\">\n                                                <div className=\"card-body card-shop-filters\">\n                                                    {\n                                                        isloaded ?\n                                                            list.map((row, index) => {\n                                                                return (\n                                                                    <div className=\"card-body\" key={index}>\n                                                                        <div className=\"list-group bs-canvas-close\" aria-label=\"Close\" onClick={this.handleFilterCategory.bind(this, row)}>\n                                                                            <span className=\"list-group-item list-group-item-action\">{row.sub_name}</span>\n                                                                        </div>\n                                                                    </div>\n                                                                )\n                                                            })\n                                                            : ''\n                                                    }\n\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n\n\n                            <div className=\"col-md-9\">\n                                <div className=\"shop-head\">\n                                    <a href=\"#\"><span className=\"mdi mdi-home\" /> Home</a> <span className=\"mdi mdi-chevron-right\" /> <a href=\"#\">Fruits &amp; Vegetables</a> <span className=\"mdi mdi-chevron-right\" /> <a href=\"#\">Fruits</a>\n                                    <div className=\"btn-group float-right mt-2\">\n                                        <button type=\"button\" className=\"btn btn-dark dropdown-toggle\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                                            Sort by Products &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n                                        </button>\n                                        <div className=\"dropdown-menu dropdown-menu-right\">\n                                            <a className=\"dropdown-item\" href=\"#\">Relevance</a>\n                                            <a className=\"dropdown-item\" href=\"#\">Price (Low to High)</a>\n                                            <a className=\"dropdown-item\" href=\"#\">Price (High to Low)</a>\n                                            <a className=\"dropdown-item\" href=\"#\">Discount (High to Low)</a>\n                                            <a className=\"dropdown-item\" href=\"#\">Name (A to Z)</a>\n                                        </div>\n                                    </div>\n                                    <h5 className=\"mb-3\">Fruits</h5>\n                                </div>\n                                {!isloaded ? <div className=\"progress-bar-bk\"><CircularProgress color=\"secondary\" /></div> :\n                                    toggle ?\n                                        <div className=\"row no-gutters\">\n                                            {\n                                                categorybyproduct ?\n                                                    categorybyproduct.map((row) => (\n                                                        row.products.slice(0,limit).map((row, index) => (\n                                                            <div key={index} className=\"col-md-4\">\n                                                                <div className=\"item\">\n                                                                    <div className=\"product\">\n                                                                        <Link to={{\n                                                                            pathname: `/p/${row.slug}/${row.id}`,\n                                                                            state: row\n                                                                        }}>\n                                                                            <div className=\"product-header\">\n                                                                                <span className=\"badge badge-success\">{row.discountPer}% OFF</span>\n                                                                                <img className=\"img-fluid\" src={row.photo} alt=\"product\" />\n                                                                                <span className=\"veg text-success mdi mdi-circle\" />\n                                                                            </div>\n                                                                            <div className=\"product-body\">\n                                                                                <h5>{row.name}</h5>\n                                                                                <h6><strong><span className=\"mdi mdi-approval\" /> Available in</strong> - {row.unitSize}</h6>\n                                                                            </div>\n                                                                        </Link>\n                                                                        <div className=\"product-footer\">\n                                                                            <button type=\"button\" className=\"btn btn-secondary btn-sm float-right\" onClick={() => this.props.addToCart(row)}><i className=\"mdi mdi-cart-outline\" /> Add To Cart</button>\n                                                                            <p className=\"offer-price mb-0\">&#x20B9;{row.netPrice}  <i className=\"mdi mdi-tag-outline\" /><br /><span className=\"regular-price\">&#x20B9;{row.price} </span></p>\n                                                                        </div>\n                                                                    </div>\n                                                                </div>\n                                                            </div>\n                                                        ))\n                                                    )) : <div className=\"text-danger\">Empty item in this category</div>}\n                                        </div>\n                                        :\n                                        <div className=\"row no-gutters\">\n                                            {\n                                                list ?\n                                                    list.map((row) => (\n                                                        row.products.slice(0,limit).map((row, index) => (\n                                                            <div key={index} className=\"col-md-4\">\n                                                                <div className=\"item\">\n                                                                    <div className=\"product\">\n                                                                        <Link to={{\n                                                                            pathname: `/p/${row.slug}/${row.id}`,\n                                                                            state: row\n                                                                        }}>\n                                                                            <div className=\"product-header\">\n                                                                                <span className=\"badge badge-success\">{row.discountPer}% OFF</span>\n                                                                                <img className=\"img-fluid\" src={row.photo} alt=\"product\" />\n                                                                                <span className=\"veg text-success mdi mdi-circle\" />\n                                                                            </div>\n                                                                            <div className=\"product-body\">\n                                                                                <h5>{row.name}</h5>\n                                                                                <h6><strong><span className=\"mdi mdi-approval\" /> Available in</strong> - {row.unitSize}</h6>\n                                                                            </div>\n                                                                        </Link>\n                                                                        <div className=\"product-footer\">\n                                                                            <button type=\"button\" className=\"btn btn-secondary btn-sm float-right\" onClick={() => this.props.addToCart(row)}><i className=\"mdi mdi-cart-outline\" /> Add To Cart</button>\n                                                                            <p className=\"offer-price mb-0\">&#x20B9;{row.netPrice}  <i className=\"mdi mdi-tag-outline\" /><br /><span className=\"regular-price\">&#x20B9;{row.price} </span></p>\n                                                                        </div>\n                                                                    </div>\n                                                                </div>\n                                                            </div>\n                                                        ))\n                                                    )) : <div className=\"text-danger\">Empty item in this category</div>}\n                                        </div>}\n\n                                <div class=\"more-product-btn\">\n                                    <button class=\"show-more-btn hover-btn\" onClick={this.onLoadMore}>Show More</button>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </section>\n\n\n                {/* end product section */}\n            </div>\n        )\n    }\n}\nexport default connect(null, { addToCart })(Productview);"]},"metadata":{},"sourceType":"module"}