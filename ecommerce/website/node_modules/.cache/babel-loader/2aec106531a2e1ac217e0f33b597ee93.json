{"ast":null,"code":"import _regeneratorRuntime from\"D:\\\\NodeJs\\\\Full-Ecommerce-template\\\\ecommerce\\\\ecommerce\\\\website\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"D:\\\\NodeJs\\\\Full-Ecommerce-template\\\\ecommerce\\\\ecommerce\\\\website\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import api from'../../../../app/ApiConfig';import{Apis}from'../../../../config';import Cookies from'js-cookie';import{NotificationManager}from'react-notifications';var getUserLogin=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(data){var result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return api.post(Apis.GetUserLogin,data,{withCredentials:true,headers:{'Access-Control-Allow-Origin':'*','Content-Type':'application/json'}});case 3:result=_context.sent;if(!result.data.error){_context.next=7;break;}NotificationManager.error(result.data.error);return _context.abrupt(\"return\",null);case 7:return _context.abrupt(\"return\",result.data);case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);console.log(_context.t0);return _context.abrupt(\"return\",null);case 14:case\"end\":return _context.stop();}}},_callee,null,[[0,10]]);}));return function getUserLogin(_x){return _ref.apply(this,arguments);};}();var getUserRegister=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(data){var result;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return api.post(Apis.GetUserRegsiter,data);case 3:result=_context2.sent;if(!result.data.error){_context2.next=7;break;}NotificationManager.error(result.data.error);return _context2.abrupt(\"return\",null);case 7:return _context2.abrupt(\"return\",result.data);case 10:_context2.prev=10;_context2.t0=_context2[\"catch\"](0);console.log(_context2.t0);return _context2.abrupt(\"return\",null);case 14:case\"end\":return _context2.stop();}}},_callee2,null,[[0,10]]);}));return function getUserRegister(_x2){return _ref2.apply(this,arguments);};}();var authenticate=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(data,email){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:if(typeof window!==\"undefined\"){sessionStorage.setItem('_sid',data);sessionStorage.setItem('email',email);setTimeout(function(){window.location.reload();},1000);}case 1:case\"end\":return _context3.stop();}}},_callee3);}));return function authenticate(_x3,_x4){return _ref3.apply(this,arguments);};}();var getCustomerDetail=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(email){var result;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_context4.next=3;return api.get(Apis.GetCustomerDetails+email);case 3:result=_context4.sent;if(!result.data.error){_context4.next=7;break;}NotificationManager.error(result.data.error);return _context4.abrupt(\"return\",null);case 7:return _context4.abrupt(\"return\",result.data);case 10:_context4.prev=10;_context4.t0=_context4[\"catch\"](0);console.log(_context4.t0);return _context4.abrupt(\"return\",null);case 14:case\"end\":return _context4.stop();}}},_callee4,null,[[0,10]]);}));return function getCustomerDetail(_x5){return _ref4.apply(this,arguments);};}();var getCustomerUpdate=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(data){var result;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.prev=0;_context5.next=3;return api.post(Apis.GetCustomerUpdateDetails,{data:data});case 3:result=_context5.sent;if(!result.data.error){_context5.next=7;break;}NotificationManager.error(result.data.error);return _context5.abrupt(\"return\",null);case 7:return _context5.abrupt(\"return\",result.data);case 10:_context5.prev=10;_context5.t0=_context5[\"catch\"](0);console.log(_context5.t0);return _context5.abrupt(\"return\",null);case 14:case\"end\":return _context5.stop();}}},_callee5,null,[[0,10]]);}));return function getCustomerUpdate(_x6){return _ref5.apply(this,arguments);};}();var authenticateByCart=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(token,email){return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:if(typeof window!==\"undefined\"){sessionStorage.setItem('_sid',token);sessionStorage.setItem('email',email);setTimeout(function(){window.location.href=\"/checkout\";},1000);}else{NotificationManager.error(\"Please check your login\",\"Input Error\");}case 1:case\"end\":return _context6.stop();}}},_callee6);}));return function authenticateByCart(_x7,_x8){return _ref6.apply(this,arguments);};}();var logout=function logout(next){if(typeof window!==\"undefined\"){sessionStorage.removeItem('_sid');sessionStorage.removeItem('email');window.location.href=\"/\";// next();\n}};var isAuthenticate=function isAuthenticate(){if(typeof window=='undefined'){return false;}return sessionStorage.getItem('_sid');};export default{getUserLogin:getUserLogin,authenticate:authenticate,isAuthenticate:isAuthenticate,authenticateByCart:authenticateByCart,getUserRegister:getUserRegister,getCustomerDetail:getCustomerDetail,getCustomerUpdate:getCustomerUpdate,logout:logout};","map":{"version":3,"sources":["D:/NodeJs/Full-Ecommerce-template/ecommerce/ecommerce/website/src/app/components/services/GetUserLogin/index.js"],"names":["api","Apis","Cookies","NotificationManager","getUserLogin","data","post","GetUserLogin","withCredentials","headers","result","error","console","log","getUserRegister","GetUserRegsiter","authenticate","email","window","sessionStorage","setItem","setTimeout","location","reload","getCustomerDetail","get","GetCustomerDetails","getCustomerUpdate","GetCustomerUpdateDetails","authenticateByCart","token","href","logout","next","removeItem","isAuthenticate","getItem"],"mappings":"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","sourcesContent":["import api from '../../../../app/ApiConfig';\nimport { Apis } from '../../../../config';\nimport Cookies from 'js-cookie';\nimport { NotificationManager } from 'react-notifications';\n\nconst getUserLogin = async (data) => {\n    try {\n        let result = await api.post(Apis.GetUserLogin, data, {\n            withCredentials: true,\n            headers: {\n                'Access-Control-Allow-Origin': '*', 'Content-Type': 'application/json'\n            }\n        });\n        if (result.data.error) {\n            NotificationManager.error(result.data.error);\n            return null;\n        }\n        return result.data;\n    } catch (error) {\n        console.log(error);\n        return null;\n    }\n};\n\nconst getUserRegister = async (data) => {\n    try {\n        let result = await api.post(Apis.GetUserRegsiter, data);\n        if (result.data.error) {\n            NotificationManager.error(result.data.error);\n            return null;\n        }\n        return result.data;\n    } catch (error) {\n        console.log(error);\n        return null;\n    }\n};\n\nconst authenticate = async (data, email) => {\n    if (typeof window !== \"undefined\") {\n        sessionStorage.setItem('_sid', data)\n        sessionStorage.setItem('email', email)\n        setTimeout(\n            function () {\n                window.location.reload();\n            },\n            1000\n        );\n    }\n};\n\nconst getCustomerDetail = async (email) => {\n    try {\n        let result = await api.get(Apis.GetCustomerDetails + email);\n        if (result.data.error) {\n            NotificationManager.error(result.data.error);\n            return null;\n        }\n        return result.data;\n    } catch (error) {\n        console.log(error);\n        return null;\n    }\n};\n\nconst getCustomerUpdate = async (data) => {\n    try {\n        let result = await api.post(Apis.GetCustomerUpdateDetails,{data});\n        if (result.data.error) {\n            NotificationManager.error(result.data.error);\n            return null;\n        }\n        return result.data;\n    } catch (error) {\n        console.log(error);\n        return null;\n    }\n};\n\nconst authenticateByCart = async (token, email) => {\n    if (typeof window !== \"undefined\") {\n       sessionStorage.setItem('_sid', token)\n       sessionStorage.setItem('email', email)\n        setTimeout(\n            function () {\n                window.location.href = \"/checkout\";\n            },\n            1000\n        );\n    } else {\n        NotificationManager.error(\"Please check your login\", \"Input Error\");\n    }\n};\n\nconst logout = (next) => {\n    if (typeof window !== \"undefined\") {\n        sessionStorage.removeItem('_sid');\n        sessionStorage.removeItem('email');\n        window.location.href = \"/\";\n        // next();\n    }\n};\n\nconst isAuthenticate = () => {\n    if (typeof window == 'undefined') {\n        return false;\n    }\n    return sessionStorage.getItem('_sid');\n};\n\nexport default {\n    getUserLogin,\n    authenticate,\n    isAuthenticate,\n    authenticateByCart,\n    getUserRegister,\n    getCustomerDetail,\n    getCustomerUpdate,\n    logout,\n};"]},"metadata":{},"sourceType":"module"}