{"ast":null,"code":"import _regeneratorRuntime from\"D:\\\\NodeJs\\\\Full-Ecommerce-template\\\\ecommerce\\\\ecommerce\\\\website\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"D:\\\\NodeJs\\\\Full-Ecommerce-template\\\\ecommerce\\\\ecommerce\\\\website\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"D:\\\\NodeJs\\\\Full-Ecommerce-template\\\\ecommerce\\\\ecommerce\\\\website\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _classCallCheck from\"D:\\\\NodeJs\\\\Full-Ecommerce-template\\\\ecommerce\\\\ecommerce\\\\website\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\NodeJs\\\\Full-Ecommerce-template\\\\ecommerce\\\\ecommerce\\\\website\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"D:\\\\NodeJs\\\\Full-Ecommerce-template\\\\ecommerce\\\\ecommerce\\\\website\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\NodeJs\\\\Full-Ecommerce-template\\\\ecommerce\\\\ecommerce\\\\website\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{connect}from'react-redux';import{NotificationManager}from'react-notifications';import{GetUserLogin,GetOrderDetails,CartHelper}from'../../../services';import{removeFromCart,incrementToCart,decreaseToCart}from\"../../../../store/actions/cartActions\";import Deliverydetails from'./delivery';import Loader from'../../../../loader';var Checkout=/*#__PURE__*/function(_Component){_inherits(Checkout,_Component);var _super=_createSuper(Checkout);function Checkout(props){var _this;_classCallCheck(this,Checkout);_this=_super.call(this,props);_this.handleRadioChange=function(e){_this.setState(_defineProperty({},e.target.name,e.target.value));};_this.handleDeliveryAddress=function(value){_this.setState({deliveryAddress:value});};_this.handlePlaceOrder=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(event){var _this$state,customer,grandTotal,deliveryAddress,paymentmethod,orderId,cartItems,data,order;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:event.preventDefault();_this$state=_this.state,customer=_this$state.customer,grandTotal=_this$state.grandTotal,deliveryAddress=_this$state.deliveryAddress,paymentmethod=_this$state.paymentmethod;orderId=Math.floor(Math.random()*Math.floor(Math.random()*Date.now()));cartItems=_this.props.cartItems;data=_defineProperty({customerId:customer.id,paymentmethod:paymentmethod,orderId:orderId,deliveryAddress:deliveryAddress,product:cartItems,grandTotal:grandTotal},\"grandTotal\",grandTotal);if(!data){_context3.next=10;break;}_context3.next=8;return GetOrderDetails.getOrderCreateByUser(JSON.stringify(data));case 8:order=_context3.sent;if(order){NotificationManager.success(\"Successfully Ordered\",\"Order\");setTimeout(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:CartHelper.emptyCart();case 1:case\"end\":return _context.stop();}}},_callee);})),1000);}else{NotificationManager.error(\"Order is declined\",\"Order\");setTimeout(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:window.location.href=\"/failed\";case 1:case\"end\":return _context2.stop();}}},_callee2);})),1000);}case 10:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x){return _ref.apply(this,arguments);};}();_this.handlePaymentSystem=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(e){var _this$state2,customer,grandTotal,deliveryAddress,paymentmethod,cartItems,orderId,res,data1,result,__DEV__,options,payementObject;return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:e.preventDefault();_this$state2=_this.state,customer=_this$state2.customer,grandTotal=_this$state2.grandTotal,deliveryAddress=_this$state2.deliveryAddress,paymentmethod=_this$state2.paymentmethod;cartItems=_this.props.cartItems;orderId=Math.floor(Math.random()*Math.floor(Math.random()*Date.now()));_this.setState({isLoaded:true});console.log(\"deliveryAddress\",deliveryAddress);if(!deliveryAddress){_context7.next=28;break;}_context7.next=9;return _this.loadScript(\"https://checkout.razorpay.com/v1/checkout.js\");case 9:res=_context7.sent;if(res){_context7.next=13;break;}alert(\"Razorpay SDK failed to load. Are you online?\");return _context7.abrupt(\"return\");case 13://creating new order\ndata1={amount:grandTotal,order_id:orderId,\"currency\":\"INR\",payment_capture:1};_context7.next=16;return GetOrderDetails.getPaymentValue(data1);case 16:result=_context7.sent;if(result.data){_context7.next=22;break;}alert(\"Server error. Are you online?\");return _context7.abrupt(\"return\");case 22:__DEV__=document.domain==='localhost';options={\"key\":__DEV__?\"rzp_test_OkYZMYKswptVZX\":\"rzp_test_OkYZMYKswptVZX\",\"currency\":result.data.currency,\"amount\":result.data.amount*100,\"order_id\":result.data.id,\"name\":\"CityBaazar\",\"description\":\"Test Transaction\",\"image\":\"https://example.com/your_logo\",\"handler\":function(){var _handler=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(response){var list,result,EMPTY_CART,carts;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:list={custId:customer.id,orderCreationId:orderId,razorpayPaymentId:response.razorpay_payment_id,razorpayOrderId:response.razorpay_order_id};_context6.next=3;return GetOrderDetails.getPaymentOrderList(list);case 3:result=_context6.sent;if(result.data){EMPTY_CART={cartItems:[]};carts=cartItems||EMPTY_CART;setTimeout(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(){var data,order;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:data={customerId:customer.id,paymentmethod:result.data.method,orderId:orderId,deliveryAddress:deliveryAddress,product:carts,grandTotal:result.data.amount/100};_context5.next=3;return GetOrderDetails.getOrderCreateByUser(JSON.stringify(data));case 3:order=_context5.sent;if(order){NotificationManager.success(\"Successfully Ordered\",\"Order\");// this.setState({ isLoaded: false})\nsetTimeout(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:CartHelper.emptyCart();case 1:case\"end\":return _context4.stop();}}},_callee4);})),1000);}case 5:case\"end\":return _context5.stop();}}},_callee5);})),1000);}else{window.location.href=\"/order/failed\";}// console.log(result)\ncase 5:case\"end\":return _context6.stop();}}},_callee6);}));function handler(_x3){return _handler.apply(this,arguments);}return handler;}(),prefill:{name:\"\",email:'',phone_number:''},\"notes\":{\"address\":\"Razorpay Corporate Office\"},\"theme\":{\"color\":\"#3399cc\"}};payementObject=new window.Razorpay(options);payementObject.open();case 26:_context7.next=29;break;case 28:NotificationManager.error(\"Please! check address details\",\"Input Field\");case 29:case\"end\":return _context7.stop();}}},_callee7);}));return function(_x2){return _ref4.apply(this,arguments);};}();_this.state={isLoaded:false,subTotal:'',discount:'',deliveryCharge:0,grandTotal:'',email:'',customer:'',paymentmethod:'',deliveryAddress:''};return _this;}_createClass(Checkout,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(){var email,user,cart,subTotal,discount,grandTotal;return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:email=sessionStorage.getItem('email');if(!email){_context8.next=6;break;}_context8.next=4;return GetUserLogin.getCustomerDetail(email);case 4:user=_context8.sent;if(user){this.setState({customer:user.data,email:email});}case 6:cart=this.props.cartItems;subTotal=cart.reduce(function(sum,i){return sum+=i.qty*i.netPrice;},0);discount=cart.reduce(function(sum,i){return sum+=i.discount;},0);grandTotal=subTotal+discount+this.state.deliveryCharge;this.setState({subTotal:subTotal,discount:discount,grandTotal:grandTotal,deliveryCharge:this.state.deliveryCharge});case 11:case\"end\":return _context8.stop();}}},_callee8,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"loadScript\",value:function loadScript(src){return new Promise(function(resolve){var script=document.createElement(\"script\");script.src=src;script.onload=function(){resolve(true);};script.onerror=function(){resolve(false);};document.body.appendChild(script);});}},{key:\"render\",value:function render(){var cartItems=this.props.cartItems;var _this$state3=this.state,subTotal=_this$state3.subTotal,discount=_this$state3.discount,deliveryCharge=_this$state3.deliveryCharge,grandTotal=_this$state3.grandTotal,email=_this$state3.email,customer=_this$state3.customer,paymentmethod=_this$state3.paymentmethod,isLoaded=_this$state3.isLoaded;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"section\",{className:\"pt-3 pb-3 page-info section-padding border-bottom bg-white single-product-header-bk\"},/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-12\"},/*#__PURE__*/React.createElement(\"a\",{href:\"/\"},/*#__PURE__*/React.createElement(\"strong\",null,/*#__PURE__*/React.createElement(\"span\",{class:\"mdi mdi-home\"}),\" Home\")),\" \",/*#__PURE__*/React.createElement(\"span\",{class:\"mdi mdi-chevron-right\"}),\" \",/*#__PURE__*/React.createElement(\"a\",null,\"Checkout\"))))),/*#__PURE__*/React.createElement(\"section\",{className:\"checkout-page section-padding\"},/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},isLoaded?/*#__PURE__*/React.createElement(Loader,null):'',/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-8\"},/*#__PURE__*/React.createElement(\"div\",{className:\"checkout-step\"},/*#__PURE__*/React.createElement(\"div\",{className:\"accordion\",id:\"accordionExample\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card checkout-step-one\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card-header\",id:\"headingOne\"},/*#__PURE__*/React.createElement(\"h5\",{className:\"mb-0\"},/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-link checkout-login-bk\",disabled:true},/*#__PURE__*/React.createElement(\"span\",{className:\"number\"},\"1\"),\" Login \",/*#__PURE__*/React.createElement(\"span\",{className:\"mdi mdi-checkbox-marked-circle-outline\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"_2jDL7w\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"span\",{className:\"dNZmcB\"},customer.firstName,\" \"),/*#__PURE__*/React.createElement(\"span\",{className:\"_3MeY5j\"},email)))))),/*#__PURE__*/React.createElement(\"div\",{className:\"card checkout-step-two\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card-header\",id:\"headingTwo\"},/*#__PURE__*/React.createElement(\"h5\",{className:\"mb-0\"},/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-link collapsed\",type:\"button\",\"data-toggle\":\"collapse\",\"data-target\":\"#collapseTwo\",\"aria-expanded\":\"false\",\"aria-controls\":\"collapseTwo\"},/*#__PURE__*/React.createElement(\"span\",{className:\"number\"},\"2\"),\" Delivery Address\"))),/*#__PURE__*/React.createElement(\"div\",{id:\"collapseTwo\",className:\"collapse\",\"aria-labelledby\":\"headingTwo\",\"data-parent\":\"#accordionExample\"},/*#__PURE__*/React.createElement(Deliverydetails,{onSelectDeliveryAddress:this.handleDeliveryAddress}))),/*#__PURE__*/React.createElement(\"div\",{className:\"card\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card-header\",id:\"headingThree\"},/*#__PURE__*/React.createElement(\"h5\",{className:\"mb-0\"},/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-link collapsed\",type:\"button\",\"data-toggle\":\"collapse\",\"data-target\":\"#collapseThree\",\"aria-expanded\":\"false\",\"aria-controls\":\"collapseThree\"},/*#__PURE__*/React.createElement(\"span\",{className:\"number\"},\"3\"),\" Payment\"))),/*#__PURE__*/React.createElement(\"div\",{id:\"collapseThree\",className:\"collapse\",\"aria-labelledby\":\"headingThree\",\"data-parent\":\"#accordionExample\"},/*#__PURE__*/React.createElement(\"div\",{className:\"checkout-step-body\"},/*#__PURE__*/React.createElement(\"div\",{className:\"payment_method-checkout\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"rpt100\"},/*#__PURE__*/React.createElement(\"ul\",{className:\"radio--group-inline-container_1\"},/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"radio-item_1\"},/*#__PURE__*/React.createElement(\"input\",{id:\"cashondelivery1\",value:\"cash\",name:\"paymentmethod\",type:\"radio\",onChange:this.handleRadioChange}),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"cashondelivery1\",className:\"radio-label_1\"},\"Cash on Delivery\"))),/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"radio-item_1\",onClick:this.handlePaymentSystem},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"card1\",className:\"radio-label_1\"},\"Pay With Card\"))))),paymentmethod===\"cash\"?/*#__PURE__*/React.createElement(\"button\",{className:\"next-btn16 hover-btn\",onClick:this.handlePlaceOrder},\"Confirm Order\"):''))))))))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card\"},/*#__PURE__*/React.createElement(\"h5\",{className:\"card-header\"},\"My Cart \",/*#__PURE__*/React.createElement(\"span\",{className:\"text-secondary float-right\"},\"(\",cartItems.length,\" item)\")),cartItems.map(function(row,index){return/*#__PURE__*/React.createElement(\"div\",{className:\"card-body pt-0 pr-0 pl-0 pb-0\",key:index},/*#__PURE__*/React.createElement(\"div\",{className:\"cart-list-product\"},/*#__PURE__*/React.createElement(\"img\",{className:\"img-fluid\",src:row.photo,alt:\"cart\"}),/*#__PURE__*/React.createElement(\"span\",{className:\"badge badge-success\"},row.discountPer,\"% OFF\"),/*#__PURE__*/React.createElement(\"h5\",null,row.name),/*#__PURE__*/React.createElement(\"h6\",null,/*#__PURE__*/React.createElement(\"strong\",null,/*#__PURE__*/React.createElement(\"span\",{className:\"mdi mdi-approval\"}),\" Available in\"),\" - \",row.unitSize,\" gm\"),/*#__PURE__*/React.createElement(\"p\",{className:\"offer-price mb-0\"},\"\\u20B9\",row.qty+'*'+row.netPrice,\" \",/*#__PURE__*/React.createElement(\"i\",{className:\"mdi mdi-tag-outline\"}),\" \",/*#__PURE__*/React.createElement(\"span\",{className:\"regular-price\"},\"\\u20B9\",row.price))));}),/*#__PURE__*/React.createElement(\"div\",{className:\"total-checkout-group\"},/*#__PURE__*/React.createElement(\"div\",{className:\"cart-total-dil\"},/*#__PURE__*/React.createElement(\"h4\",null,\"Sub Total\"),/*#__PURE__*/React.createElement(\"span\",null,\"\\u20B9\",subTotal)),/*#__PURE__*/React.createElement(\"div\",{className:\"cart-total-dil pt-3\"},/*#__PURE__*/React.createElement(\"h4\",null,\"Delivery Charges\"),/*#__PURE__*/React.createElement(\"span\",null,\"\\u20B9\",deliveryCharge))),/*#__PURE__*/React.createElement(\"div\",{className:\"cart-total-dil saving-total \"},/*#__PURE__*/React.createElement(\"h4\",null,\"Total Saving\"),/*#__PURE__*/React.createElement(\"span\",null,\"\\u20B9\",discount)),/*#__PURE__*/React.createElement(\"div\",{className:\"main-total-cart\"},/*#__PURE__*/React.createElement(\"h2\",null,\"Total\"),/*#__PURE__*/React.createElement(\"span\",null,\"\\u20B9\",grandTotal))))))));}}]);return Checkout;}(Component);export default connect(function(state){return{cartItems:state.cart.cartItems};},{incrementToCart:incrementToCart,decreaseToCart:decreaseToCart,removeFromCart:removeFromCart})(Checkout);","map":{"version":3,"sources":["D:/NodeJs/Full-Ecommerce-template/ecommerce/ecommerce/website/src/app/components/web/views/checkout/index.js"],"names":["React","Component","connect","NotificationManager","GetUserLogin","GetOrderDetails","CartHelper","removeFromCart","incrementToCart","decreaseToCart","Deliverydetails","Loader","Checkout","props","handleRadioChange","e","setState","target","name","value","handleDeliveryAddress","deliveryAddress","handlePlaceOrder","event","preventDefault","state","customer","grandTotal","paymentmethod","orderId","Math","floor","random","Date","now","cartItems","data","customerId","id","product","getOrderCreateByUser","JSON","stringify","order","success","setTimeout","emptyCart","error","window","location","href","handlePaymentSystem","isLoaded","console","log","loadScript","res","alert","data1","amount","order_id","payment_capture","getPaymentValue","result","__DEV__","document","domain","options","currency","response","list","custId","orderCreationId","razorpayPaymentId","razorpay_payment_id","razorpayOrderId","razorpay_order_id","getPaymentOrderList","EMPTY_CART","carts","method","prefill","email","phone_number","payementObject","Razorpay","open","subTotal","discount","deliveryCharge","sessionStorage","getItem","getCustomerDetail","user","cart","reduce","sum","i","qty","netPrice","src","Promise","resolve","script","createElement","onload","onerror","body","appendChild","firstName","length","map","row","index","photo","discountPer","unitSize","price"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { connect } from 'react-redux';\nimport { NotificationManager } from 'react-notifications';\nimport { GetUserLogin, GetOrderDetails, CartHelper } from '../../../services';\nimport { removeFromCart, incrementToCart, decreaseToCart } from \"../../../../store/actions/cartActions\";\nimport Deliverydetails from './delivery';\nimport Loader from '../../../../loader'\nclass Checkout extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            isLoaded: false,\n            subTotal: '', discount: '', deliveryCharge: 0, grandTotal: '', email: '', customer: '', paymentmethod: '', deliveryAddress: ''\n        }\n    }\n    handleRadioChange = e => {\n        this.setState({ [e.target.name]: e.target.value })\n    }\n    handleDeliveryAddress = (value) => {\n        this.setState({ deliveryAddress: value })\n    }\n    async componentDidMount() {\n        let email = sessionStorage.getItem('email')\n        if (email) {\n            let user = await GetUserLogin.getCustomerDetail(email);\n            if (user) {\n                this.setState({ customer: user.data, email: email })\n            }\n        }\n        let cart = this.props.cartItems;\n        let subTotal = cart.reduce((sum, i) => (sum += i.qty * i.netPrice), 0)\n        let discount = cart.reduce((sum, i) => (sum += i.discount), 0)\n        let grandTotal = subTotal + discount + this.state.deliveryCharge;\n\n        this.setState({ subTotal: subTotal, discount: discount, grandTotal: grandTotal, deliveryCharge: this.state.deliveryCharge })\n\n    }\n    handlePlaceOrder = async (event) => {\n        event.preventDefault();\n        const { customer, grandTotal, deliveryAddress, paymentmethod } = this.state;\n        let orderId = Math.floor(Math.random() * Math.floor(Math.random() * Date.now()))\n        let { cartItems } = this.props\n        let data = { customerId: customer.id, paymentmethod: paymentmethod, orderId: orderId, deliveryAddress: deliveryAddress, product: cartItems, grandTotal, grandTotal }\n        if (data) {\n            let order = await GetOrderDetails.getOrderCreateByUser(JSON.stringify(data));\n            if (order) {\n                NotificationManager.success(\"Successfully Ordered\", \"Order\");\n                setTimeout(\n                    async function () {\n                        CartHelper.emptyCart();\n                    },\n                    1000\n                );\n            } else {\n                NotificationManager.error(\"Order is declined\", \"Order\");\n                setTimeout(\n                    async function () {\n                        window.location.href = \"/failed\"\n                    },\n                    1000\n                );\n            }\n        }\n    }\n\n    loadScript(src) {\n        return new Promise((resolve) => {\n            const script = document.createElement(\"script\");\n            script.src = src;\n            script.onload = () => {\n                resolve(true);\n            };\n            script.onerror = () => {\n                resolve(false);\n            };\n            document.body.appendChild(script);\n        });\n    }\n\n    handlePaymentSystem = async (e) => {\n        e.preventDefault();\n        const { customer, grandTotal, deliveryAddress, paymentmethod } = this.state;\n        let { cartItems } = this.props\n        let orderId = Math.floor(Math.random() * Math.floor(Math.random() * Date.now()))\n        this.setState({ isLoaded: true})\n        console.log(\"deliveryAddress\", deliveryAddress)\n        if(deliveryAddress){\n            //payment system\n        const res = await this.loadScript(\n            \"https://checkout.razorpay.com/v1/checkout.js\"\n        );\n\n        if (!res) {\n            alert(\"Razorpay SDK failed to load. Are you online?\");\n            return;\n        }\n\n        //creating new order\n        let data1 = { amount: grandTotal, order_id: orderId, \"currency\": \"INR\", payment_capture: 1 }\n        const result = await GetOrderDetails.getPaymentValue(data1);\n        if (!result.data) {\n            alert(\"Server error. Are you online?\");\n            return;\n        } else {\n            const __DEV__ = document.domain === 'localhost';\n            var options = {\n                \"key\": __DEV__ ? \"rzp_test_OkYZMYKswptVZX\" : \"rzp_test_OkYZMYKswptVZX\",\n                \"currency\": result.data.currency,\n                \"amount\": result.data.amount * 100,\n                \"order_id\": result.data.id,\n                \"name\": \"CityBaazar\",\n                \"description\": \"Test Transaction\",\n                \"image\": \"https://example.com/your_logo\",\n                \"handler\": async function (response) {\n                    const list = {\n                        custId: customer.id,\n                        orderCreationId: orderId,\n                        razorpayPaymentId: response.razorpay_payment_id,\n                        razorpayOrderId: response.razorpay_order_id,\n                    };\n                    const result = await GetOrderDetails.getPaymentOrderList(list);\n                    if (result.data) {\n                        const EMPTY_CART = { cartItems: [] }\n                        const carts = cartItems || EMPTY_CART;\n                         setTimeout(\n                            async function () {\n                    let data = { customerId: customer.id, paymentmethod: result.data.method, orderId: orderId, deliveryAddress: deliveryAddress, product: carts, grandTotal: result.data.amount / 100 }\n                        \n                            let order = await GetOrderDetails.getOrderCreateByUser(JSON.stringify(data));\n                            if (order) {\n                                NotificationManager.success(\"Successfully Ordered\", \"Order\");\n                                // this.setState({ isLoaded: false})\n                                setTimeout(\n                                    async function () {\n                                        CartHelper.emptyCart();\n                                    },\n                                    1000\n                                );\n                        }\n                            },\n                            1000\n                        );\n\n                       \n                    }else{\n                        window.location.href = \"/order/failed\";\n                    }\n                    // console.log(result)\n                },\n                prefill: {\n                    name: \"\",\n                    email: '',\n                    phone_number: ''\n                },\n                \"notes\": {\n                    \"address\": \"Razorpay Corporate Office\"\n                },\n                \"theme\": {\n                    \"color\": \"#3399cc\"\n                }\n            };\n            let payementObject = new window.Razorpay(options);\n            payementObject.open();\n        }\n        }else{\n            NotificationManager.error(\"Please! check address details\", \"Input Field\");\n        }\n        \n\n    }\n    render() {\n        const { cartItems } = this.props;\n        const { subTotal, discount, deliveryCharge, grandTotal, email, customer, paymentmethod, isLoaded } = this.state;\n        return (\n            <div>\n                <section className=\"pt-3 pb-3 page-info section-padding border-bottom bg-white single-product-header-bk\">\n                    <div className=\"container\">\n                        <div className=\"row\">\n                            <div className=\"col-md-12\">\n                                <a href=\"/\"><strong><span class=\"mdi mdi-home\"></span> Home</strong></a> <span class=\"mdi mdi-chevron-right\"></span> <a >Checkout</a>\n                            </div>\n                        </div>\n                    </div>\n                </section>\n\n                <section className=\"checkout-page section-padding\">\n                    <div className=\"container\">\n                        {\n                            isLoaded ? <Loader />: ''\n                        }\n                        <div className=\"row\">\n                            <div className=\"col-md-8\">\n                                <div className=\"checkout-step\">\n                                    <div className=\"accordion\" id=\"accordionExample\">\n                                        <div className=\"card checkout-step-one\">\n                                            <div className=\"card-header\" id=\"headingOne\">\n                                                <h5 className=\"mb-0\">\n                                                    <button className=\"btn btn-link checkout-login-bk\" disabled>\n                                                        <span className=\"number\">1</span> Login <span className=\"mdi mdi-checkbox-marked-circle-outline\"></span>\n                                                    </button>\n                                                    <div className=\"_2jDL7w\"><div><span className=\"dNZmcB\">{customer.firstName} </span><span className=\"_3MeY5j\">{email}</span></div></div>\n                                                </h5>\n                                            </div>\n                                        </div>\n                                        <div className=\"card checkout-step-two\">\n                                            <div className=\"card-header\" id=\"headingTwo\">\n                                                <h5 className=\"mb-0\">\n                                                    <button className=\"btn btn-link collapsed\" type=\"button\" data-toggle=\"collapse\" data-target=\"#collapseTwo\" aria-expanded=\"false\" aria-controls=\"collapseTwo\">\n                                                        <span className=\"number\">2</span> Delivery Address\n                                                    </button>\n                                                </h5>\n                                            </div>\n                                            <div id=\"collapseTwo\" className=\"collapse\" aria-labelledby=\"headingTwo\" data-parent=\"#accordionExample\">\n                                                <Deliverydetails onSelectDeliveryAddress={this.handleDeliveryAddress} />\n                                            </div>\n                                        </div>\n                                        <div className=\"card\">\n                                            <div className=\"card-header\" id=\"headingThree\">\n                                                <h5 className=\"mb-0\">\n                                                    <button className=\"btn btn-link collapsed\" type=\"button\" data-toggle=\"collapse\" data-target=\"#collapseThree\" aria-expanded=\"false\" aria-controls=\"collapseThree\">\n                                                        <span className=\"number\">3</span> Payment\n                                                    </button>\n                                                </h5>\n                                            </div>\n                                            <div id=\"collapseThree\" className=\"collapse\" aria-labelledby=\"headingThree\" data-parent=\"#accordionExample\">\n                                                <div className=\"checkout-step-body\">\n                                                    <div className=\"payment_method-checkout\">\n                                                        <div className=\"row\">\n                                                            <div className=\"col-md-12\">\n                                                                <div className=\"rpt100\">\n                                                                    <ul className=\"radio--group-inline-container_1\">\n                                                                        <li>\n                                                                            <div className=\"radio-item_1\">\n                                                                                <input id=\"cashondelivery1\" value=\"cash\" name=\"paymentmethod\" type=\"radio\" onChange={this.handleRadioChange} />\n                                                                                <label htmlFor=\"cashondelivery1\" className=\"radio-label_1\">Cash on Delivery</label>\n                                                                            </div>\n                                                                        </li>\n                                                                        <li>\n                                                                            <div className=\"radio-item_1\" onClick={this.handlePaymentSystem}>\n                                                                                {/* <input value=\"card\" name=\"paymentmethod\" type=\"button\" onClick={this.handleRadioChange} /> */}\n                                                                                <label htmlFor=\"card1\" className=\"radio-label_1\">Pay With Card</label>\n                                                                            </div>\n                                                                        </li>\n                                                                    </ul>\n                                                                </div>\n                                                                {\n                                                                    paymentmethod === \"cash\" ?\n                                                                        <button className=\"next-btn16 hover-btn\" onClick={this.handlePlaceOrder}>Confirm Order</button>\n                                                                        : ''\n                                                                }\n                                                            </div>\n                                                        </div>\n                                                    </div>\n                                                </div>\n\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                            <div className=\"col-md-4\">\n                                <div className=\"card\">\n                                    <h5 className=\"card-header\">My Cart <span className=\"text-secondary float-right\">({cartItems.length} item)</span></h5>\n                                    {\n                                        cartItems.map((row, index) => (\n                                            <div className=\"card-body pt-0 pr-0 pl-0 pb-0\" key={index}>\n                                                <div className=\"cart-list-product\">\n                                                    <img className=\"img-fluid\" src={row.photo} alt=\"cart\" />\n                                                    <span className=\"badge badge-success\">{row.discountPer}% OFF</span>\n                                                    <h5>{row.name}</h5>\n                                                    <h6><strong><span className=\"mdi mdi-approval\" /> Available in</strong> - {row.unitSize} gm</h6>\n                                                    <p className=\"offer-price mb-0\">&#x20B9;{row.qty + '*' + row.netPrice} <i className=\"mdi mdi-tag-outline\" /> <span className=\"regular-price\">&#x20B9;{row.price}</span></p>\n                                                </div>\n                                            </div>\n                                        ))\n                                    }\n                                    <div className=\"total-checkout-group\">\n                                        <div className=\"cart-total-dil\">\n                                            <h4>Sub Total</h4>\n                                            <span>&#x20B9;{subTotal}</span>\n                                        </div>\n                                        <div className=\"cart-total-dil pt-3\">\n                                            <h4>Delivery Charges</h4>\n                                            <span>&#x20B9;{deliveryCharge}</span>\n                                        </div>\n                                    </div>\n                                    <div className=\"cart-total-dil saving-total \">\n                                        <h4>Total Saving</h4>\n                                        <span>&#x20B9;{discount}</span>\n                                    </div>\n                                    <div className=\"main-total-cart\">\n                                        <h2>Total</h2>\n                                        <span>&#x20B9;{grandTotal}</span>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </section>\n\n\n            </div>\n        )\n    }\n}\n\nexport default connect(\n    (state) => ({\n        cartItems: state.cart.cartItems,\n    }),\n    { incrementToCart, decreaseToCart, removeFromCart }\n)(Checkout);"]},"metadata":{},"sourceType":"module"}