{"ast":null,"code":"import api from '../../../../app/ApiConfig';\nimport { Apis } from '../../../../config';\nimport Cookies from 'js-cookie';\nimport { NotificationManager } from 'react-notifications';\n\nconst getUserLogin = async data => {\n  try {\n    let result = await api.post(Apis.GetUserLogin, data, {\n      withCredentials: true,\n      headers: {\n        'Access-Control-Allow-Origin': '*',\n        'Content-Type': 'application/json'\n      }\n    });\n\n    if (result.data.error) {\n      NotificationManager.error(result.data.error);\n      return null;\n    }\n\n    return result.data;\n  } catch (error) {\n    console.log(error);\n    return null;\n  }\n};\n\nconst getUserRegister = async data => {\n  try {\n    let result = await api.post(Apis.GetUserRegsiter, data);\n\n    if (result.data.error) {\n      NotificationManager.error(result.data.error);\n      return null;\n    }\n\n    return result.data;\n  } catch (error) {\n    console.log(error);\n    return null;\n  }\n};\n\nconst authenticate = async (data, email) => {\n  if (typeof window !== \"undefined\") {\n    sessionStorage.setItem('_sid', data);\n    sessionStorage.setItem('email', email);\n    setTimeout(function () {\n      window.location.reload();\n    }, 1000);\n  }\n};\n\nconst getCustomerDetail = async email => {\n  try {\n    let result = await api.get(Apis.GetCustomerDetails + email);\n\n    if (result.data.error) {\n      NotificationManager.error(result.data.error);\n      return null;\n    }\n\n    return result.data;\n  } catch (error) {\n    console.log(error);\n    return null;\n  }\n};\n\nconst getCustomerUpdate = async data => {\n  try {\n    let result = await api.post(Apis.GetCustomerUpdateDetails, {\n      data\n    });\n\n    if (result.data.error) {\n      NotificationManager.error(result.data.error);\n      return null;\n    }\n\n    return result.data;\n  } catch (error) {\n    console.log(error);\n    return null;\n  }\n};\n\nconst authenticateByCart = async (token, email) => {\n  if (typeof window !== \"undefined\") {\n    sessionStorage.setItem('_sid', token);\n    sessionStorage.setItem('email', email);\n    setTimeout(function () {\n      window.location.href = \"/checkout\";\n    }, 1000);\n  } else {\n    NotificationManager.error(\"Please check your login\", \"Input Error\");\n  }\n};\n\nconst logout = next => {\n  if (typeof window !== \"undefined\") {\n    sessionStorage.removeItem('_sid');\n    sessionStorage.removeItem('email');\n    window.location.href = \"/\"; // next();\n  }\n};\n\nconst isAuthenticate = () => {\n  if (typeof window == 'undefined') {\n    return false;\n  }\n\n  return sessionStorage.getItem('_sid');\n};\n\nexport default {\n  getUserLogin,\n  authenticate,\n  isAuthenticate,\n  authenticateByCart,\n  getUserRegister,\n  getCustomerDetail,\n  getCustomerUpdate,\n  logout\n};","map":{"version":3,"sources":["D:/NodeJs/Full-Ecommerce-template/ecommerce/ecommerce/website/src/app/components/services/GetUserLogin/index.js"],"names":["api","Apis","Cookies","NotificationManager","getUserLogin","data","result","post","GetUserLogin","withCredentials","headers","error","console","log","getUserRegister","GetUserRegsiter","authenticate","email","window","sessionStorage","setItem","setTimeout","location","reload","getCustomerDetail","get","GetCustomerDetails","getCustomerUpdate","GetCustomerUpdateDetails","authenticateByCart","token","href","logout","next","removeItem","isAuthenticate","getItem"],"mappings":"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","sourcesContent":["import api from '../../../../app/ApiConfig';\nimport { Apis } from '../../../../config';\nimport Cookies from 'js-cookie';\nimport { NotificationManager } from 'react-notifications';\n\nconst getUserLogin = async (data) => {\n    try {\n        let result = await api.post(Apis.GetUserLogin, data, {\n            withCredentials: true,\n            headers: {\n                'Access-Control-Allow-Origin': '*', 'Content-Type': 'application/json'\n            }\n        });\n        if (result.data.error) {\n            NotificationManager.error(result.data.error);\n            return null;\n        }\n        return result.data;\n    } catch (error) {\n        console.log(error);\n        return null;\n    }\n};\n\nconst getUserRegister = async (data) => {\n    try {\n        let result = await api.post(Apis.GetUserRegsiter, data);\n        if (result.data.error) {\n            NotificationManager.error(result.data.error);\n            return null;\n        }\n        return result.data;\n    } catch (error) {\n        console.log(error);\n        return null;\n    }\n};\n\nconst authenticate = async (data, email) => {\n    if (typeof window !== \"undefined\") {\n        sessionStorage.setItem('_sid', data)\n        sessionStorage.setItem('email', email)\n        setTimeout(\n            function () {\n                window.location.reload();\n            },\n            1000\n        );\n    }\n};\n\nconst getCustomerDetail = async (email) => {\n    try {\n        let result = await api.get(Apis.GetCustomerDetails + email);\n        if (result.data.error) {\n            NotificationManager.error(result.data.error);\n            return null;\n        }\n        return result.data;\n    } catch (error) {\n        console.log(error);\n        return null;\n    }\n};\n\nconst getCustomerUpdate = async (data) => {\n    try {\n        let result = await api.post(Apis.GetCustomerUpdateDetails,{data});\n        if (result.data.error) {\n            NotificationManager.error(result.data.error);\n            return null;\n        }\n        return result.data;\n    } catch (error) {\n        console.log(error);\n        return null;\n    }\n};\n\nconst authenticateByCart = async (token, email) => {\n    if (typeof window !== \"undefined\") {\n       sessionStorage.setItem('_sid', token)\n       sessionStorage.setItem('email', email)\n        setTimeout(\n            function () {\n                window.location.href = \"/checkout\";\n            },\n            1000\n        );\n    } else {\n        NotificationManager.error(\"Please check your login\", \"Input Error\");\n    }\n};\n\nconst logout = (next) => {\n    if (typeof window !== \"undefined\") {\n        sessionStorage.removeItem('_sid');\n        sessionStorage.removeItem('email');\n        window.location.href = \"/\";\n        // next();\n    }\n};\n\nconst isAuthenticate = () => {\n    if (typeof window == 'undefined') {\n        return false;\n    }\n    return sessionStorage.getItem('_sid');\n};\n\nexport default {\n    getUserLogin,\n    authenticate,\n    isAuthenticate,\n    authenticateByCart,\n    getUserRegister,\n    getCustomerDetail,\n    getCustomerUpdate,\n    logout,\n};"]},"metadata":{},"sourceType":"module"}